(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f106a626"],{3528:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("span",[t._v("購物車商品")]),e("div",{staticClass:"row d-flex justify-content-center"},[e("div",{staticClass:"col-sm-4 mb-5"},[e("div",{staticClass:"card cardInfo"},[e("h2",{staticClass:"card-title text-left bg-dark p-1"},[t._v("購物車內容")]),e("div",{staticClass:"card-body"},[e("div",{staticClass:"card-text text-right"},[e("p",[t._v("共有"+t._s(t.cart.carts.length)+"件商品")]),t.cart.final_total===t.cart.total?e("div",[e("p",[t._v("總計")]),e("p",[t._v("總計"+t._s(t._f("currency")(t.cart.total))+"元")])]):e("div",[e("p",{staticClass:"text-left text-success"},[t._v("折扣價")]),e("p",{staticClass:"text-right text-success"},[t._v(" "+t._s(t._f("currency")(Math.floor(t.cart.final_total)))+"元 ")])]),e("p"),e("p"),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入折價眷"},domProps:{value:t.coupon_code},on:{input:function(a){a.target.composing||(t.coupon_code=a.target.value)}}}),e("div",[e("button",{staticClass:"btn btn-dark form-control",on:{click:t.addCouponCode}},[t._v(" 使用折價眷 ")])])]),e("div",[e("button",{staticClass:"btn btn-danger form-control",attrs:{type:"button"},on:{click:function(a){return t.$router.push("/order")}}},[t._v(" 結帳 ")])])])])])]),e("div",{staticClass:"col-sm-8"},t._l(t.cart.carts,(function(a,o){return e("div",{key:o,staticClass:"card mb-2"},[e("button",{staticClass:"btn text-right p-0",attrs:{type:"button","aria-abel":"close"},on:{click:function(e){return t.removeCartItem(a.id)}}},[e("i",{staticClass:"fas fa-trash-alt mr-2",staticStyle:{color:"#cc3333"},attrs:{"aria-hidden":"true"}})]),e("div",{staticClass:"card-body d-flex productCard p-2"},[e("div",{staticClass:"mr-3"},[e("img",{attrs:{src:a.product.imageUrl}})]),e("div",{staticClass:"card-text mt-4"},[e("p",[t._v(t._s(a.product.title))]),e("p",[t._v(t._s(a.qty)+t._s(a.product.unit))]),e("p",[t._v(t._s(a.total)+"元")])])])])})),0)])])},c=[],s={data:function(){return{cart:{},deleteCartItem:!1,coupon_code:""}},methods:{getCart:function(){var t=this,a="https://vue-course-api.hexschool.io/api/hanvueshop/cart";this.$http.get(a).then((function(a){t.cart=a.data.data}))},removeCartItem:function(t){var a=this,e="https://vue-course-api.hexschool.io/api/hanvueshop/cart/".concat(t);a.deleteCartItem=!0,this.$http.delete(e).then((function(t){console.log("刪除",t),a.getCart(),a.deleteCartItem=!1}))},addCouponCode:function(){var t=this,a="https://vue-course-api.hexschool.io/api/hanvueshop/coupon",e={code:t.coupon_code};this.$http.post(a,{data:e}).then((function(a){console.log("coupon",a),t.getCart()}))}},created:function(){this.getCart()}},r=s,n=(e("58c5"),e("2877")),i=Object(n["a"])(r,o,c,!1,null,"67ea6003",null);a["default"]=i.exports},"58c5":function(t,a,e){"use strict";e("85bf")},"85bf":function(t,a,e){}}]);
//# sourceMappingURL=chunk-f106a626.ab26816c.js.map